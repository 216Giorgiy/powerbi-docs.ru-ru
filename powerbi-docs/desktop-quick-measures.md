---
title: "Использование быстрых мер для простого выполнения стандартных и эффективных вычислений в Power BI (предварительная версия)"
description: "Быстрое меры предоставляют готовые формулы DAX, с помощью которых можно выполнять стандартные вычисления"
services: powerbi
documentationcenter: 
author: davidiseminger
manager: kfile
backup: 
editor: 
tags: 
qualityfocus: no
qualitydate: 
ms.service: powerbi
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: powerbi
ms.date: 10/12/2017
ms.author: davidi
ms.openlocfilehash: 11db394b7cbd61e545bb55ca475d4d5c995c8a3b
ms.sourcegitcommit: 284b09d579d601e754a05fba2a4025723724f8eb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/15/2017
---
# <a name="use-quick-measures-to-easily-perform-common-and-powerful-calculations-preview"></a>Использование быстрых мер для простого выполнения стандартных и мощных вычислений (предварительная версия)
С выпуска за апреля 2017 г. в **Power BI Desktop** доступны **быстрые меры** для простого выполнения стандартных и мощных вычислений. Средство **Быстрые меры** запускает набор команд DAX в фоновом режиме (вам не нужно писать DAX-код — все выполняется автоматически), основанных на входных данных, которые вы вводите в диалоговое окно, а затем представляет результаты для использования в отчете. Самое главное, вы можете просмотреть, как быстрые меры выполняют DAX-команды, и можете ознакомиться с библиотекой DAX или расширить свои знания о ней.

![](media/desktop-quick-measures/quick-measures_01.png)

Чтобы создать **быстрые меры**, щелкните правой кнопкой мыши меню **Поля** и выберите пункт **Быстрые меры** в открывшемся меню. Щелкните правой кнопкой мыши любое значение в области **Значения** существующего визуального элемента (например, поле *Значения* в визуальном элементе *Линейчатая диаграмма*). Доступно множество категорий вычислений и способов изменения каждого вычисления в соответствии с вашими потребностями.

### <a name="enable-the-quick-measures-preview"></a>Включение предварительной версии быстрых мер
Новая функция **быстрых мер** доступна с версии **Power BI Desktop**, выпущенной в **апреле 2017 г**. Чтобы включить эту предварительную версию функции, выберите **Файл > Параметры и настройки > Параметры > Предварительные версии компонентов** и установите флажок рядом с пунктом **Быстрые меры**. После этого изменения приложение Power BI Desktop необходимо перезапустить.

![](media/desktop-quick-measures/quick-measures_02b.png)

После этого изменения приложение **Power BI Desktop** необходимо перезапустить.

## <a name="using-quick-measures"></a>Использование быстрых мер
Чтобы создать **быстрые меры**, щелкните правой кнопкой мыши любое поле в меню **Поля** в **Power BI Desktop** и выберите пункт **Быстрые меры** в открывшемся меню.

![](media/desktop-quick-measures/quick-measures_01.png)

В наборе данных, загруженном для **быстрых мер**, должно быть доступно моделирование. Динамические подключения (например, подключение к набору данных в службе Power BI) не отобразят элемент меню **Быстрые меры**, если для списка **Поля** открыто контекстное меню. Это не касается динамических подключений SSAS. 

При использовании динамических подключений служб SQL Server Analysis Services (SSAS) доступны некоторые **быстрые меры**. В **Power BI Desktop** отображается только коллекция **быстрых мер**, которую поддерживает версия подключенной службы SSAS. Таким образом, если вы подключились к источнику динамических данных SSAS, и не видите в списке определенных **быстрых мер**, это означает, что версия подключенной службы SSAS не поддерживает меру DAX, с помощью которой реализуется эта **быстрая мера**.

После того как вы выберите соответствующий пункт в контекстном меню, откроется следующее диалоговое окно **Быстрые меры**, где можно выбрать нужно вычисления и поля, для которых нужно выполнить вычисление.

![](media/desktop-quick-measures/quick-measures_03.png)

При выборе вычислений в раскрывающемся меню вы увидите длинный список доступных **быстрых мер**.

![](media/desktop-quick-measures/quick-measures_04.png)

В быстрых мерах доступно пять разных групп типов вычислений, каждая из которых содержит коллекцию вычислений. Ниже перечислены эти группы и вычисления.

* **Вычисление в категории**
  * В среднем в категории
  * Дисперсия в категории
  * Максимум в категории
  * Минимум в категории
  * Средневзвешенное значение по категориям
* **Фильтры и базовые значения**
  * Отфильтрованная мера
  * Разница с базовым значением
  * Процент разницы с базовым значением
  * Итоговые значения из новых категорий
* **Логика операций со временем**
  * Итого с начала года
  * Итого с начала квартала
  * Итого с начала месяца
  * Погодовое изменение
  * Поквартальное изменение
  * Помесячное изменение
  * Скользящее среднее
* **Итоги**
  * Итоговая сумма
  * Итоги для категории (с фильтрами)
  * Итоги для категории (без фильтров)
* **Математические операции**
  * Добавление
  * Вычитание
  * Умножение
  * Деление
  * Разница в процентах
* **Текстовые**
  * Оценка
  * Объединенный список значений

В будущем к этим вычислениям добавятся новые. Мы хотели бы узнать, какие новые **быстрые меры** вам нужны, и получить ваши идеи (в том числе о формулах DAX) по поводу **быстрых мер**. Подробнее об этом в конце этой статьи.

## <a name="example-of-quick-measures"></a>Пример быстрых мер
Рассмотрим пример этих **быстрых мер** в действии.

Следующий визуальный элемент **Матрица** отображает таблицу с продажами электроники. Это основная таблица, содержащая итог по каждой категории.

![](media/desktop-quick-measures/quick-measures_05.png)

Если щелкнуть правой кнопкой мыши поле **Значения** и выбрать пункт **Быстрые меры**, можно выбрать вариант *В среднем в категории* в качестве *вычисления*, а затем выбрать *сумма SalesAmount* как *базовое значение*, указать значение *SalesAmount*, перетаскивая это поле из списка *Поля* в области права в раздел *Категория* слева.

![](media/desktop-quick-measures/quick-measures_06.png)

Если нажать кнопку **ОК**, мы увидим интересные результаты, которые описаны ниже.

1. Визуальный элемент **Матрицы** теперь содержит новый столбец, показывающий наши вычисления (в нашем примере — *среднее значение SalesAmount в SalesAmount*).
2. Создана новая **мера**, которая теперь доступна в меню **Поля**. Она выделена желтым прямоугольником. Эта мера доступна в любом визуальном элементе в отчете, а не только в элементе, для которого он был создан.
3. Формула DAX, которая создана для **быстрой меры**, отображается в строке формул.

![](media/desktop-quick-measures/quick-measures_07.png)

Прежде всего обратите внимание, что **быстрая мера** применена к визуальному элементу. Доступны новый столбец и связанное значение, которые основаны на созданной **быстрой мере**.

![](media/desktop-quick-measures/quick-measures_08.png)

Во-вторых, **быстрая мера** отображается в меню **Поля** модели данных и может использоваться как любое другое поле в модели для любого визуального элемента. Визуальный элемент **линейчатой диаграммы**, показанный на следующем рисунке, создан с помощью нового поля, которое создано с помощью **быстрой меры**.

![](media/desktop-quick-measures/quick-measures_09.png)

Перейдем к следующему разделу, чтобы обсудить третий элемент — формулы DAX.

## <a name="learn-dax-using-quick-measures"></a>Сведения о формулах DAX, используемыми быстрыми мерами
Другое значительное преимущество функции **быстрых мер** заключается в том, что она непосредственно отображает формулу DAX, которая создана для реализации меры. На следующем рисунке видно, что мы выбрали меру, созданную функцией **Быстрая мера** (она находится в меню **Поля**, поэтому мы просто выбрали ее). После этого появляется **строка формул**, где отображается формула DAX, которую приложение Power BI создало для реализации меры.

![](media/desktop-quick-measures/quick-measures_10.png)

Это очень хорошо, так как мы можем видеть формулу меры. Но что еще более важно, вы можете использовать **быстрые меры**, чтобы увидеть, как должны создаваться базовые формулы DAX.

Предположим, вам необходимо выполнить вычисление по годам, но вы не уверены, как структурировать формулу DAX. Или вы вообще не знаете, с чего начать. Вместо того чтобы отчаиваться, вы можете создать **быструю меру** с помощью вычисления **Погодовое изменение** и наблюдать, что происходит. То есть, создав **быструю меру**, вы увидите, как она отображается в вашем визуальном элементе, и как работает формула DAX. Затем вносите изменения непосредственно в формулу DAX или создайте другую меру, если вычисления соответствуют вашим потребностям.

Это как умный учитель, который немедленно отвечает на все ваши вопросы. Вы всегда можете удалить эти меры из модели, если они вам не нравятся. Просто щелкните правой кнопкой мыши меру и выберите команду **Удалить**.

![](media/desktop-quick-measures/quick-measures_11.png)

После того как вы создали идеальную меру, вы можете переименовать ее по своему усмотрению, используя то же контекстное меню.

## <a name="limitations-and-considerations"></a>Рекомендации и ограничения
К предварительному выпуску функции **Быстрые меры** применяется ряд ограничений и рекомендаций.

* Функция **Быстрые меры** доступна, только если вы можете редактировать модель, что невозможно, если вы работаете с DirectQuery или большинством динамических подключений. (Динамические подключения SSAS поддерживаются, как объяснялось ранее.)
* Мера, которая добавляется в меню **Поля**, может использоваться с любым визуальным элементом в отчете.
* Вы всегда можете просмотреть формулу DAX, связанную с **быстрой мерой**. Для этого выберите меру в меню **Поля**, а затем найдите формулу в **строке формул**.

> [!WARNING]
> Сейчас быстрые меры *только* создают инструкции DAX с запятыми в качестве разделителей аргументов. Если версию **Power BI Desktop** локализовано на язык, где в качестве десятичных разделителей используются запятые, быстрые меры будут работать неправильно.
> 
> 

### <a name="time-intelligence-and-quick-measures"></a>Логика операций со временем и быстрые меры
Начиная с обновления **Power BI Desktop** за октябрь 2017 г. вы можете использовать настраиваемые таблицы дат с **быстрыми мерами** временной аналитики. Если модель данных содержит настраиваемую таблицу дат, вы можете использовать в ней столбец первичных дат для быстрых мер временной аналитики. *Необходимо* убедиться, что при создании модели столбец первичных дат в этой таблице помечен как таблица дат, как описано в [этой статье](https://docs.microsoft.com/sql/analysis-services/tabular-models/specify-mark-as-date-table-for-use-with-time-intelligence-ssas-tabular).

### <a name="additional-information-and-examples"></a>Дополнительные сведения и примеры
Мы ожидаем появления примеров и рекомендаций для каждого вычисления с помощью **быстрых мер**, поэтому рекомендуем вскоре проверить обновления в этой статье.

Так как эта функция находится на стадии **предварительной версии**, нас очень интересуют ваши отзывы и идеи.

У вас есть идеи, которые не реализованы для функции **Быстрая мера**? Отлично! Перейдите [на эту страницу](https://go.microsoft.com/fwlink/?linkid=842906) и отправьте свои идеи (и формулы DAX) по поводу функции **Быстрая мера**, которые вы бы хотели увидеть реализованными в **Power BI Desktop**. Мы рассмотрим возможность добавления их в список **быстрых мер** в будущем выпуске.

