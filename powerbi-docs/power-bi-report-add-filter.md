---
title: Добавление визуализации, страницы, детализации или фильтра в отчет
description: Добавление фильтра страницы, визуализации или отчета в отчет в Power BI
author: mihart
manager: kfile
ms.reviewer: ''
ms.service: powerbi
ms.component: powerbi-service
ms.topic: conceptual
ms.date: 05/26/2018
ms.author: mihart
LocalizationGroup: Reports
ms.openlocfilehash: e5e257fd245687f2aeb83a9ee45c0342cf16392d
ms.sourcegitcommit: 2a7bbb1fa24a49d2278a90cb0c4be543d7267bda
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/26/2018
ms.locfileid: "34561708"
---
# <a name="add-a-filter-to-a-power-bi-service-report-in-editing-view"></a>Добавление фильтра в отчет службы Power BI (в режиме правки)
> [!TIP]
> Мы рекомендуем сначала прочитать статью [О фильтрах и выделении в отчетах Power BI](power-bi-reports-filters-and-highlighting.md).

Примеры в этой статье показывают службу Power BI. Однако действия в Power BI Desktop практически идентичны.
> 
> 

## <a name="what-is-the-difference-between-report-filters-in-editing-view-versus-reading-view"></a>Какая разница между фильтрами в режиме правки и фильтрами в режиме чтения
Существует два режима взаимодействия с отчетами: [режим чтения](service-reading-view-and-editing-view.md) и [режим правки](service-interact-with-a-report-in-editing-view.md).  Доступные возможности фильтрации зависят от используемого в настоящий момент режима.

* В режиме правки можно добавлять фильтры страниц, отчетов и визуализаций. При сохранении отчета фильтры сохраняются вместе с ним. Пользователи, просматривающие отчет в режиме чтения, могут работать с добавленными вами фильтрами.
* В режиме чтения можно взаимодействовать с уже существующими в отчете фильтрами отчетов, детализаций, страниц и визуальных элементов, но добавлять новые фильтры запрещено. Однако изменения, вносимые в области "Фильтры", сохраняются вместе с отчетом, даже если он открыт в мобильном приложении и даже если вы закрываете отчет и возвращаетесь к нему позже.  

> [!NOTE]
> В этой статье описывается создание фильтров в отчете в **режиме правки**.  Дополнительные сведения о фильтрах в режиме чтения см. в статье [о взаимодействии с фильтрами в режиме чтения](service-reading-view-and-editing-view.md).


## <a name="filters-available-in-the-power-bi-filters-pane"></a>Фильтры, доступные на панели *Фильтры* в Power BI
При использовании классической версии или службы Power BI панель "Фильтры" отображается на холсте отчетов справа. Если панель "Фильтры" отсутствует, разверните ее, щелкнув значок ">" в правом верхнем углу.

Существует четыре типа фильтров.

- **Фильтр страницы** применяется ко всем визуальным элементам на странице отчета.     
- **Фильтр визуального элемента** применяется к одному элементу на странице отчета.    
- **Фильтр детализации** применяется к одной сущности в отчете.    
- **Фильтр отчета** применяется ко всем страницам в отчете.    

    ![область "Фильтры" в режиме чтения](media/power-bi-report-add-filter/power-bi-add-filter-reading-view.png)

Так как фильтры *сохраняются* при выходе из отчета, в Power BI сохраняются изменения, внесенные в фильтры, срезы, и другие изменения, касающиеся представления данных. Поэтому, вернувшись к отчету, вы сможете продолжить с того места, где закончили. Чтобы изменения фильтров не сохранялись, в верхней строке меню нажмите **Вернуться к значениям по умолчанию**.

![кнопка сохранения фильтров](media/power-bi-report-add-filter/power-bi-reset-to-default.png)

## <a name="add-a-filter-to-a-specific-visualization-aka-visual-filter"></a>Добавление фильтра к конкретной визуализации (так называемый фильтр визуализации)
Это можно сделать двумя способами: 

* используя фильтрацию поля, которое уже используется в визуализации;
* указав поле, которое уже не используется в визуализации, и добавив его непосредственно в контейнер **Фильтры уровня визуальных элементов**.

### <a name="by-filtering-the-fields-already-in-the-visualization"></a>Фильтрация полей, уже имеющихся в визуализации
1. Откройте [отчет в режиме правки](service-reading-view-and-editing-view.md).
   
   ![](media/power-bi-report-add-filter/power-bi-edit-view.png)
2. Откройте панели "Визуализации" и "Фильтры" и панель "Поля" (если они еще не открыты).
   
   ![](media/power-bi-report-add-filter/power-bi-display-panes.png)
3. Выберите визуальный элемент, чтобы сделать его активным. Все поля, используемые элементом, определены на панели **Поля** и перечислены на панели **Фильтры** в разделе **Фильтры уровня визуальных элементов**.
   
   ![](media/power-bi-report-add-filter/power-bi-default-visual-filter.png)
4. На этом этапе мы добавим фильтр к полю, которое уже используется в визуализации. 
   
   * Прокрутите вниз до области **Фильтры уровня визуальных элементов** и щелкните стрелку, чтобы развернуть поле, которое нужно отфильтровать. В этом примере будет выполнена фильтрация **StoreNumberName**.
     
      ![](media/power-bi-report-add-filter/power-bi-visual-level-filter.png) 
   * Выберите элементы управления фильтрации **Основной**, **Дополнительно** или **Top N** (Ведущие N) (см. статью [Ознакомление с панелью "Фильтры" отчета](power-bi-how-to-report-filter.md)). В этом примере мы выберем режим фильтрации "Основной" и установим флажки рядом с числами 10, 11, 15 и 18.
     
      ![](media/power-bi-report-add-filter/power-bi-basic-filters.png) 
   * Визуальный элемент изменится в соответствии с новым фильтром. Если отчет сохранен с фильтром, читатели отчета могут взаимодействовать с фильтром в режиме чтения, устанавливая или отменяя установку значений.
     
      ![](media/power-bi-report-add-filter/power-bi-filter-effect.png)
5. Теперь давайте добавим в визуализацию совершенно новое поле в качестве фильтра на уровне визуальных элементов.
   
   * На панели "Поля" выберите поле, которое нужно добавить в качестве нового фильтра на уровне визуальных элементов, и перетащите его в область **Фильтры уровня визуальных элементов**.  В этом примере мы перетащим поле **District Manager** (Региональный менеджер) в контейнер **Фильтры уровня визуальных элементов** и выберем только имя Эндрю Ma (Andrew Ma). 
     
      ![](media/power-bi-report-add-filter/power-bi-andrew.png)
   * Обратите внимание, что поле **District Manager** (Региональный менеджер) *не* добавляется к самой визуализации. В визуализации по-прежнему есть параметр **StoreNumberName** (заданный в качестве оси) и **This Year Sales** (Продажи за этот год) (заданный в качестве значения).  
     
      ![](media/power-bi-report-add-filter/power-bi-visualization.png)
   * При этом сама визуализация теперь отфильтрована таким образом, чтобы на ней отображались сведения о продажах Эндрю (Andrew) за этот год для указанных магазинов.
     
     ![](media/power-bi-report-add-filter/power-bi-filtered-andrew.png)

## <a name="add-a-filter-to-an-entire-page-aka-page-view-filter"></a>Добавление фильтра на всю страницу (фильтр представления страницы)
1. Откройте [отчет в режиме правки](service-reading-view-and-editing-view.md).
2. Откройте панели "Визуализации" и "Фильтры" и панель "Поля" (если они еще не открыты).
3. На панели "Поля" выберите поле, которое нужно добавить в качестве нового фильтра уровня страниц, и перетащите его в область **Фильтры уровня страницы**.  
4. Укажите значения для фильтрации и настройте элемент управления **Основной** или **Расширенный** (см. статью [Использование фильтров отчетов](power-bi-how-to-report-filter.md)).
   
   Все визуальные элементы на странице, охватываемые этим фильтром, перерисовываются повторно для отражения изменений. 
   
   ![](media/power-bi-report-add-filter/filterpage.gif)

Если отчет сохранен с фильтром, читатели отчета могут взаимодействовать с фильтром в режиме чтения, устанавливая или отменяя установку значений.

## <a name="add-a-drillthrough-filter"></a>Добавление фильтра детализации
Используя функцию детализации в службе Power BI и Power BI Desktop, вы можете создать *целевую* страницу отчета, посвященную определенной сущности: поставщику, клиенту или производителю. Теперь пользователи могут щелкнуть правой кнопкой мыши точку данных на других страницах отчета и перейти для детализации на страницу определенной сущности.

### <a name="create-a-drillthrough-filter"></a>Создание фильтра детализации
Чтобы создать фильтр, откройте пример "Рентабельность клиента" в представлении редактирования. Допустим, вам нужно перейти на страницу, на которой представлены направления деятельности руководителя.   

1. Добавьте новую страницу в отчет и назовите ее **Руководитель группы**. Это будет *целевая* страница детализации.
2. Добавьте визуализации, отслеживающие ключевые показатели для направлений деятельности руководителей групп.    
3. Добавьте поля **Руководитель > Имя руководителя** в области фильтров детализации.    
   
    ![](media/power-bi-report-add-filter/power-bi-drillthrough-filter.png)
   
    Обратите внимание, что Power BI добавляет стрелку "Назад" на страницу отчета.  Если пользователь щелкнет эту стрелку, он вернется к *исходной* странице отчета, на которой он выбрал детализацию. Стрелка "Назад" активна только в представлении чтения.
   
     ![](media/power-bi-report-add-filter/power-bi-back-arrow.png)

### <a name="use-the-drillthrough-filter"></a>Использование фильтра детализации
Давайте посмотрим, как работает фильтр детализации.

1. Начните со страницы **Командная система показателей** отчета.    
2. Предположим, что вас зовут Сергей Зайцев и вы хотите просмотреть страницу отчета "Руководитель группы", отфильтрованную для отображения только ваших данных.  На диаграмме вверху слева щелкните правой кнопкой мыши любую зеленую точку данных, чтобы открыть пункт меню "Детализация".
   
    ![](media/power-bi-report-add-filter/power-bi-drillthrough.png)
3. Выберите **Детализация > Руководитель группы**, чтобы перейти на страницу детализации отчета **Руководитель группы**. Страница отфильтруется, отображая сведения о точке данных, которую вы щелкнули правой кнопкой мыши. В нашем случае — это Сергей Зайцев. На страницу детализации отчета можно перейти только из поля, добавленного в область "Фильтры детализации".  
   
    ![](media/power-bi-report-add-filter/power-bi-drillthrough-executive.png)

## <a name="add-a-filter-to-an-entire-report-aka-report-filter"></a>Добавление фильтра ко всему отчету (фильтр отчета)
1. Откройте [отчет в режиме правки](service-reading-view-and-editing-view.md).
2. Откройте панели "Визуализации" и "Фильтры" и панель "Поля" (если они еще не открыты).
3. На панели "Поля" выберите поле, которое нужно добавить в качестве нового фильтра на уровне отчета, и перетащите его в область **Фильтры уровня отчетов**.  
4. Выберите значения для фильтрации (см. статью [Использование фильтров отчетов](power-bi-how-to-report-filter.md)).

    Визуальные элементы на активной странице, а также на всех страницах отчета изменятся в соответствии с новым фильтром. Если отчет сохранен с фильтром, читатели отчета могут взаимодействовать с фильтром в режиме чтения, устанавливая или отменяя установку значений.

1. Щелкните стрелку "Назад", чтобы вернуться на предыдущую страницу отчета.

## <a name="considerations-and-troubleshooting"></a>Рекомендации и устранение неполадок

- Возможны ситуации, когда фильтр на уровне визуализации и фильтр на уровне страницы выдают различные результаты.  Например, при добавлении фильтра на уровне визуализации Power BI применяет фильтрование к статистическим результатам.  По умолчанию используется сумма данных, но [тип статистической обработки можно изменить](service-aggregates.md).  

    Затем при добавлении фильтра на уровне страницы Power BI применяется фильтрование без статистической обработки.  Это связано с тем, что страница может содержать несколько визуальных элементов, в каждом из которых используются разные типы статического вычисления.  Таким образом, фильтр применяется в каждой строке данных.

- Если область полей не отображается, убедитесь, что вы выбрали [режим редактирования](service-interact-with-a-report-in-editing-view.md) отчета.    
- Если вы внесли множество изменений в фильтры и хотите восстановить параметры отчета по умолчанию, заданные автором, в верхней строке меню выберите команду **Вернуться к значениям по умолчанию**.

## <a name="next-steps"></a>Дальнейшие действия
 [Использование фильтров отчетов](power-bi-how-to-report-filter.md)

  [Фильтры и выделение в отчетах](power-bi-reports-filters-and-highlighting.md)

[Взаимодействие с отчетом в режиме чтения в Power BI](service-reading-view-and-editing-view.md)

[Взаимодействие с визуализациями в отчете Power BI](service-reports-visual-interactions.md)

Появились дополнительные вопросы? [Ответы на них см. в сообществе Power BI.](http://community.powerbi.com/)

