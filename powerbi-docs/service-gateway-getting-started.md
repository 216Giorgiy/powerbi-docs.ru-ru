---
title: "Начало работы со шлюзами Power BI"
description: "Узнайте основные сведения о шлюзах данных для Power BI."
services: powerbi
documentationcenter: 
author: davidiseminger
manager: kfile
backup: 
editor: 
tags: 
qualityfocus: no
qualitydate: 
ms.service: powerbi
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: powerbi
ms.date: 01/24/2018
ms.author: davidi
ms.openlocfilehash: 14c96dbc88784cd76099c25508409bcc24064e35
ms.sourcegitcommit: 7249ff35c73adc2d25f2e12bc0147afa1f31c232
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/25/2018
---
# <a name="getting-started-with-power-bi-gateways"></a>Начало работы со шлюзами Power BI
К вашим услугам руководство по **началу работы со шлюзами Power BI**. В этом кратком руководстве вы узнаете о возможностях шлюза, о том, как он действует, а также о том, как установить, настроить и запустить собственный шлюз.  

![](media/service-gateway-getting-started/gw_gettingstarted_0a.png)

Шлюзы — это технический элемент, и так как все сети и предприятия разные, шлюзы могут оказаться достаточно сложными. Поэтому для простоты давайте начнем с основ.

## <a name="how-power-bi-gateways-work"></a>Как работают шлюзы Power BI
**Шлюз** — это программное обеспечение, облегчающее доступ к данным в частной локальной сети для последующего использования в облачной службе, такой как Power BI. Он похож на "привратника", который прослушивает запросы пользователей на подключение и выполняет их только при соответствии определенным условиям (например, исходя из того, разрешено ли использовать шлюз). Это позволяет организациям оставлять базы данных и хранилища в локальных сетях и безопасно использовать подмножества данных для создания привлекательных отчетов и информационных панелей в Power BI.

Шлюз также обеспечивает защиту доступа и данных за счет шифрования и сжимания всех данных, проходящих через него, а также всех паролей, используемых для подключения к источникам данных. Несомненно, все это звучит просто, но тут стоит учитывать множество факторов.

Иногда требуется создать личный шлюз. К примеру, имеется большая книга Excel, а также три базы данных SQL с данными о продажах и маркетинге за много лет, и вы хотите создать информационную панель Power BI с подробным анализом этих продаж. Именно вы создаете отчеты, это ваша книга Excel, и только вы используете эти базы данных для создания отчетов Power BI. Вам просто нужен шлюз для личного использования, а не для того, чтобы предоставить доступ к этим источникам данных остальным пользователям.

В других случаях вы можете работать в организации с различными базами данных от разных поставщиков, включая Analysis Services, SAP, Oracle и IBM, и с другими источниками данных, к которым вам нужно разрешить доступ множеству пользователей для создания огромного количества отчетов. В этом случае требуется шлюз, позволяющий настроить доступ ко всем этим источникам, а затем предоставить к ним общий доступ для множества людей в организации. Это уже совсем другой тип шлюза.

К счастью, Power BI предлагает два шлюза, которые идеально подходят для каждого из этих сценариев. Они указаны ниже.

* **Локальный шлюз данных (персональный режим)** позволяет одному пользователю подключаться к источникам. Его невозможно использовать совместно с другими пользователями. Он используется только в Power BI.
* **Локальный шлюз данных** позволяет нескольким пользователям подключаться к нескольким локальным источникам данных. Один такой шлюз можно использовать в Power BI, PowerApps, Flow и Azure Logic Apps.

Оба шлюза выполняют похожие функции: они облегчают доступ к данным в частной локальной сети, чтобы их можно было использовать в облачных службах, таких как Power BI. Личный шлюз может использовать только один пользователь и только в Power BI, а **локальный шлюз данных** могут использовать много пользователей и служб.

Развертывание шлюза осуществляется в три этапа:

* установка шлюза;
* добавление пользователей к шлюзу (обеспечение возможности использования шлюза);
* подключение к источникам данных.

Кроме того, шлюз предоставляет такую важную возможность:

* Обновление локальных данных для изменения отчетов Power BI с помощью новых данных.

Обновление данных позволяет обеспечить актуальность данных на информационных панелях и в отчетах Power BI. Так что при просмотре отчета, созданного на основе локальных данных, можно использовать возможность отображения последних сведений, даже если отчет был создан давно.

Первый этап, установка шлюза, достаточно прост. Вы также можете легко предоставить пользователям разрешение на доступ к шлюзу. Достаточно просто добавить их в диалоговом окне Power BI. А вот подключиться к источникам данных может быть нелегко, так как у каждого из множества источников данных есть собственные требования к подключению и нюансы. Мы рассмотрим обновление в другом руководстве, чтобы уделить шлюзу основное внимание в этой статье.

Давайте начнем с простого и разберем установку шлюза.

## <a name="install-the-gateway"></a>Установка шлюза
Чтобы установить шлюз, откройте службу Power BI (для ее запуска в браузере воспользуйтесь этой ссылкой и выполните вход) и войдите с использованием учетной записи Power BI. В службе Power BI выберите **значок скачивания** в верхнем правом углу, как показано на следующем рисунке, и выберите **Data Gateway**.

![](media/service-gateway-getting-started/gw_gettingstarted_01.png)

После этого вы перейдете на страницу скачивания, где нужно нажать кнопку **Download gateway** (Скачать шлюз), чтобы начать скачивание.

![](media/service-gateway-getting-started/gw_gettingstarted_02.png)

На этом экране представлено краткое объяснение функций шлюза. Кроме того, здесь есть несколько важных **предупреждений**. При установке шлюз на самом деле запускается на компьютере, на котором выполняется установка, и если выключить его, шлюз тоже выключится. Поэтому если компьютер выключен, шлюз не будет работать. Кроме того, установка на компьютере по беспроводной сети — не лучшая идея, поэтому следует использовать компьютер, подключенный к проводной сети.

Когда вы будете готовы, нажмите кнопку **Далее**, чтобы продолжить установку.

![](media/service-gateway-getting-started/gw_gettingstarted_03.png)

Именно на этом этапе нужно определиться с типом устанавливаемого шлюза (локальный или личный). В этом руководстве мы установим **локальный шлюз данных**.

Сейчас нужно обратить внимание на несколько моментов:

* Обоим шлюзам требуется 64-разрядная ОС Windows.
* Эти шлюзы нельзя устанавливать на контроллере домена.
* Вы можете установить не более двух локальных шлюзов данных на одном компьютере: по одному шлюзу в каждом режиме (персональном и стандартном). 
* На одном компьютере не могут работать два шлюза в одном режиме.
* Вы можете установить несколько локальных шлюзов данных на разных компьютерах и управлять ими с помощью одного интерфейса управления шлюзами Power BI (за исключением личного шлюза, см. пункт ниже).
* У каждого пользователя Power BI может быть только один личный шлюз. Если для пользователя установить еще один личный шлюз, даже на другом компьютере, последняя установленная версия заменит предыдущую.

Нажмите кнопку **Далее**, и начнется установка шлюза. Необходимо указать путь для установки шлюза. Как правило, лучше всего использовать расположение по умолчанию.

![](media/service-gateway-getting-started/gw_gettingstarted_06.png)

Установка проходит быстро. Ход ее выполнения можно увидеть в строке состояния.

![](media/service-gateway-getting-started/gw_gettingstarted_06a.png)

Когда процесс будет почти завершен, вам понадобится определить учетную запись для использования со шлюзом. Это должна быть учетная запись (имя пользователя и пароль), используемая для входа в Power BI. Шлюз связывается с учетной записью Power BI, и настройка шлюзов выполняется из службы Power BI.

![](media/service-gateway-getting-started/gw_gettingstarted_07.png)

Далее будет выполнен вход, как показано на следующем рисунке.

![](media/service-gateway-getting-started/gw_gettingstarted_08.png)

После входа необходимо создать **ключ восстановления**. Мы обсудим это более подробно в другой статье. Этот ключ потребуется вам для восстановления или перемещения шлюза.

![](media/service-gateway-getting-started/gw_gettingstarted_09.png)

Если все сделано правильно, появится окно с сообщением о том, что шлюз готов.

![](media/service-gateway-getting-started/gw_gettingstarted_10.png)

Установка локального шлюза завершена. Это было довольно просто, как мы и говорили. Далее нужно **добавить пользователей** или **добавить источники данных**. Вы можете сначала добавить пользователей, а потом — добавить данные после первоначальной настройки или сделать все наоборот.

В следующем разделе описывается добавление пользователей к шлюзу. После этого мы обсудим, что нужно делать, чтобы добавить к нему источники данных.

## <a name="add-users-to-a-gateway"></a>Добавление пользователей к шлюзу
Теперь, когда мы установили шлюз, мы можем управлять им из **службы Power BI**. Чтобы открыть экран управления шлюзами, в службе Power BI выберите значок шестеренки в правом верхнем углу, а затем — **Управление шлюзами**.

![](media/service-gateway-getting-started/gw_gettingstarted_15.png)

Откроется страница на холсте службы Power BI, где можно управлять шлюзами. Страница **Параметры шлюза** выглядит следующим образом.

![](media/service-gateway-getting-started/gw_gettingstarted_12.png)

Если коснуться элемента **Администраторы** или щелкнуть его, отобразится следующая страница управления для администраторов. Обратите внимание, что здесь представлены только пользователи, которые могут *администрировать* шлюз. Эти пользователи добавляются (или удаляются) из каждого отдельного источника данных на разных страницах. Мы рассмотрим это далее.

![](media/service-gateway-getting-started/gw_gettingstarted_13.png)

После установки и проверки источника данных (успешного подключения к нему) он отобразится в разделе соответствующего шлюза слева на экране **Управление шлюзами**, как показано на следующем рисунке. Обратите внимание, что на правой панели можно переключаться между двумя разделами: **Параметры источника данных** и **Пользователи**. Далее представлен экран **Параметры источника данных**.

![](media/service-gateway-getting-started/gw_gettingstarted_16.png)

Если выбрать секцию **Пользователи**, появится текстовое поле, в котором можно ввести пользователей из вашей организации, которым требуется предоставить доступ к выбранному источнику данных. На следующем экране можно увидеть, что я добавил Maggie и Adam.

При вводе электронного адреса в текстовом поле в Power BI отображается список пользователей, электронные адреса которых соответствуют вводимому. Вы можете щелкнуть имя и добавить пользователя в список.

Вы также можете добавить группу электронных адресов (псевдонимы), чтобы разрешить доступ как отдельным пользователям, так и группам пользователей.

![](media/service-gateway-getting-started/gw_gettingstarted_17.png)

Как только вы нажмете кнопку **Добавить**, добавленные участники отобразятся в поле. При необходимости можно добавить дополнительных пользователей. Вы можете так же просто удалить пользователей. Просто установите флажок возле имени, а затем нажмите кнопку **Удалить** под полем.

![](media/service-gateway-getting-started/gw_gettingstarted_18.png)

Вот, собственно, и все. Помните, что необходимо добавить пользователей для каждого источника данных, к которому вы хотите предоставить доступ. Каждый источник данных имеет отдельный список пользователей, и необходимо добавлять пользователей к каждому источнику данных отдельно.

## <a name="adding-data-sources"></a>Добавление источников данных
Чтобы использовать шлюз данных, вам непременно потребуется добавить источники данных. Именно здесь начинаются сложности в использовании шлюзов Power BI, так как существует множество различных источников данных, у каждого из которых есть свои требования (и часто они касаются установки конкретного драйвера).

Но прежде чем вы перейдете к другой статье, ознакомьтесь с процедурой добавления источника данных. На странице **Управление шлюзами** в **службе Power BI** выберите шлюз, к которому необходимо добавить источник данных, и в левом верхнем углу страницы над списком шлюзов щелкните **Добавить источник данных**.

После этого появится панель **Параметры источника данных** справа, как показано на следующем рисунке. Здесь можно задать имя источника данных (в текстовом поле **Имя источника данных**) и выбрать его тип в раскрывающемся списке **Тип источника данных**.

![](media/service-gateway-getting-started/gw_gettingstarted_14.png)

Итак, вы установили шлюз и готовы добавить источники данных. Отлично! Дополнительные сведения об источниках данных, использовании шлюзов и другие полезные данные см. в статьях в следующем разделе.

## <a name="next-steps"></a>Дальнейшие действия
[Локальный шлюз данных](service-gateway-onprem.md)  
[Локальный шлюз данных во всех подробностях](service-gateway-onprem-indepth.md)  
[Локальный шлюз данных (персональный режим)](service-gateway-personal-mode.md);
[Устранение неполадок локального шлюза данных](service-gateway-onprem-tshoot.md).  

Появились дополнительные вопросы? [Ответы на них см. в сообществе Power BI.](http://community.powerbi.com/)

